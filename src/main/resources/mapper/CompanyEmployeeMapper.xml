<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.example.backend.mapper.CompanyEmployeeMapper">
	<resultMap id="companyEmployeeMap"
		type="com.example.backend.dto.mapping.CompanyEmployeeDto">
		<result property="employeeSeq" column="employee_seq"
			javaType="java.lang.Integer" jdbcType="INTEGER" />
		<result property="workplaceSeq" column="workplace_seq"
			javaType="java.lang.Integer" jdbcType="INTEGER" />
		<result property="departmentSeq" column="department_seq"
			javaType="java.lang.Integer" jdbcType="INTEGER" />
		<result property="companySeq" column="company_seq"
			javaType="java.lang.Integer" jdbcType="INTEGER" />
		<result property="companyCode" column="company_code"
			javaType="java.lang.Integer" jdbcType="INTEGER" />
		<result property="employeeId" column="employee_id"
			javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="employeePwd" column="employee_pwd"
			javaType="java.lang.String" jdbcType="VARCHAR" />
	</resultMap>

	<select id="check"
		parameterType="com.example.backend.dto.mapping.CompanyEmployeeDto"
		resultMap="companyEmployeeMap">
		SELECT*FROM
		company_employee ce
		JOIN
		employee e
		ON
		ce.employee_seq = e.employee_seq
		JOIN
		company c
		ON
		ce.company_seq =
		c.company_seq
		WHERE
		employee_id = #{employeeId}
		AND company_code =
		#{companyCode}
		AND employee_pwd = #{employeePwd}
	</select>
</mapper> 